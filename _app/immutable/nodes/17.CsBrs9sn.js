import{s as z,d as _,i as P,u as j,m as H,v as L,r as M,b as i,p as q,c as p,e as f,f as k,g as T,h as I,k as h,l as N}from"../chunks/DUYTDFI5.js";import{S as R,i as G,t as U,a as C,c as J,d as K,m as Q,b as W,e as X,g as Y}from"../chunks/z4FfSzan.js";import{g as F}from"../chunks/Ccp9Cg-t.js";import{a as Z,b as ee}from"../chunks/CzByQ_5z.js";import{a as te}from"../chunks/BF9jo3u2.js";import{a as ae}from"../chunks/CSE0RT46.js";import{S as se}from"../chunks/BooyMUz7.js";function O(c){let a,r,e,t,s,$="Edit Speaker",o,l,d,V="Delete speaker",E,m,A="Back to Speakers",D,u,g,S,B;return u=new se({props:{id:Number(c[0]),mode:"edit"}}),{c(){a=h("div"),r=h("div"),e=h("div"),t=h("div"),s=h("h1"),s.textContent=$,o=N(),l=h("div"),d=h("button"),d.textContent=V,E=N(),m=h("button"),m.textContent=A,D=N(),X(u.$$.fragment),this.h()},l(n){a=f(n,"DIV",{class:!0});var v=k(a);r=f(v,"DIV",{class:!0});var b=k(r);e=f(b,"DIV",{class:!0});var x=k(e);t=f(x,"DIV",{class:!0});var y=k(t);s=f(y,"H1",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-1ltm1b0"&&(s.textContent=$),o=I(y),l=f(y,"DIV",{class:!0});var w=k(l);d=f(w,"BUTTON",{class:!0,"data-svelte-h":!0}),T(d)!=="svelte-1zps77"&&(d.textContent=V),E=I(w),m=f(w,"BUTTON",{class:!0,"data-svelte-h":!0}),T(m)!=="svelte-1dxdwf8"&&(m.textContent=A),w.forEach(_),y.forEach(_),D=I(x),W(u.$$.fragment,x),x.forEach(_),b.forEach(_),v.forEach(_),this.h()},h(){p(s,"class","text-3xl font-bold text-blue-whale"),p(d,"class","bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"),p(m,"class","bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"),p(l,"class","flex gap-2"),p(t,"class","flex justify-between items-center mb-6"),p(e,"class","bg-white rounded-lg shadow-md p-8"),p(r,"class","max-w-4xl my-8 mx-auto"),p(a,"class","min-h-screen bg-bottom-backdrop p-8")},m(n,v){P(n,a,v),i(a,r),i(r,e),i(e,t),i(t,s),i(t,o),i(t,l),i(l,d),i(l,E),i(l,m),i(e,D),Q(u,e,null),g=!0,S||(B=[q(d,"click",c[2]),q(m,"click",c[3])],S=!0)},p(n,v){const b={};v&1&&(b.id=Number(n[0])),u.$set(b)},i(n){g||(C(u.$$.fragment,n),g=!0)},o(n){U(u.$$.fragment,n),g=!1},d(n){n&&_(a),K(u),S=!1,M(B)}}}function re(c){let a,r,e=c[1]&&O(c);return{c(){e&&e.c(),a=j()},l(t){e&&e.l(t),a=j()},m(t,s){e&&e.m(t,s),P(t,a,s),r=!0},p(t,[s]){t[1]?e?(e.p(t,s),s&2&&C(e,1)):(e=O(t),e.c(),C(e,1),e.m(a.parentNode,a)):e&&(Y(),U(e,1,1,()=>{e=null}),J())},i(t){r||(C(e),r=!0)},o(t){U(e),r=!1},d(t){t&&_(a),e&&e.d(t)}}}function oe(c,a,r){let e;H(c,ee,o=>r(1,e=o));let t="";L(async()=>{await Z.requireAdmin(),r(0,t=ae("id"))});async function s(){if(confirm("Are you sure you want to delete this speaker?"))try{const o=await fetch(te(`/speaker/${encodeURIComponent(t)}`),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!o.ok){const l=await o.text();throw new Error(l||o.statusText)}F("/speakers")}catch(o){alert("Failed to delete speaker: "+o)}}return[t,e,s,()=>F("/speakers")]}class pe extends R{constructor(a){super(),G(this,a,oe,re,z,{})}}export{pe as component};
