import{s as Ve,n as we,d as m,r as Ne,C as De,o as $,a as me,i as pe,b as t,p as Y,q as je,c as s,e as n,f as g,g as A,h as v,j as ee,k as u,l as _,t as te,v as Ae}from"../chunks/DUYTDFI5.js";import{S as Oe,i as Se}from"../chunks/z4FfSzan.js";import{g as be}from"../chunks/hspWPNpW.js";import{a as Be}from"../chunks/C3Z-t1LK.js";import{a as Le}from"../chunks/JSKLHevw.js";function Ee(o){let i,a;return{c(){i=u("div"),a=te(o[3]),this.h()},l(e){i=n(e,"DIV",{class:!0});var l=g(i);a=ee(l,o[3]),l.forEach(m),this.h()},h(){s(i,"class","bg-red-100 text-red-700 p-4 rounded mb-6")},m(e,l){pe(e,i,l),t(i,a)},p(e,l){l&8&&me(a,e[3])},d(e){e&&m(i)}}}function Ie(o){let i,a;return{c(){i=u("div"),a=te(o[4]),this.h()},l(e){i=n(e,"DIV",{class:!0});var l=g(i);a=ee(l,o[4]),l.forEach(m),this.h()},h(){s(i,"class","bg-green-100 text-green-700 p-4 rounded mb-6")},m(e,l){pe(e,i,l),t(i,a)},p(e,l){l&16&&me(a,e[4])},d(e){e&&m(i)}}}function Pe(o){let i,a,e,l,k,O="Create Tickets",S,x,G="Back to Tickets",M,U,F,C,d,y,J="Ticket Information",se,E,V,he="Number of Tickets *",ae,c,le,B,ve="Enter the number of tickets to create (1-100)",oe,I,N,_e="Association",ie,h,re,L,ge="Optional: Name of the student association or organization",ne,j,T,ue,de,D,R=o[2]?"Creating...":`Create ${o[0]} Ticket${o[0]!==1?"s":""}`,K,Q,ce,P,ye='<h3 class="text-sm font-medium text-blue-800 mb-2">ℹ️ Ticket Creation Info</h3> <ul class="text-sm text-blue-700 space-y-1"><li>• Tickets will be automatically assigned unique codes</li> <li>• Each ticket can be assigned to a user later</li> <li>• Association field helps with event organization</li> <li>• You can create multiple tickets at once for efficiency</li></ul>',fe,ke,f=o[3]&&Ee(o),b=o[4]&&Ie(o);return{c(){i=u("div"),a=u("div"),e=u("div"),l=u("div"),k=u("h1"),k.textContent=O,S=_(),x=u("button"),x.textContent=G,M=_(),f&&f.c(),U=_(),b&&b.c(),F=_(),C=u("form"),d=u("div"),y=u("h2"),y.textContent=J,se=_(),E=u("div"),V=u("label"),V.textContent=he,ae=_(),c=u("input"),le=_(),B=u("p"),B.textContent=ve,oe=_(),I=u("div"),N=u("label"),N.textContent=_e,ie=_(),h=u("input"),re=_(),L=u("p"),L.textContent=ge,ne=_(),j=u("div"),T=u("button"),ue=te("Cancel"),de=_(),D=u("button"),K=te(R),ce=_(),P=u("div"),P.innerHTML=ye,this.h()},l(r){i=n(r,"DIV",{class:!0});var p=g(i);a=n(p,"DIV",{class:!0});var Ce=g(a);e=n(Ce,"DIV",{class:!0});var w=g(e);l=n(w,"DIV",{class:!0});var W=g(l);k=n(W,"H1",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-dsiyi8"&&(k.textContent=O),S=v(W),x=n(W,"BUTTON",{class:!0,"data-svelte-h":!0}),A(x)!=="svelte-n3adic"&&(x.textContent=G),W.forEach(m),M=v(w),f&&f.l(w),U=v(w),b&&b.l(w),F=v(w),C=n(w,"FORM",{class:!0});var X=g(C);d=n(X,"DIV",{class:!0});var q=g(d);y=n(q,"H2",{class:!0,"data-svelte-h":!0}),A(y)!=="svelte-z504wm"&&(y.textContent=J),se=v(q),E=n(q,"DIV",{});var z=g(E);V=n(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(V)!=="svelte-cuoba3"&&(V.textContent=he),ae=v(z),c=n(z,"INPUT",{type:!0,id:!0,min:!0,max:!0,class:!0,placeholder:!0}),le=v(z),B=n(z,"P",{class:!0,"data-svelte-h":!0}),A(B)!=="svelte-7p1x59"&&(B.textContent=ve),z.forEach(m),oe=v(q),I=n(q,"DIV",{});var H=g(I);N=n(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(N)!=="svelte-cu41y6"&&(N.textContent=_e),ie=v(H),h=n(H,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),re=v(H),L=n(H,"P",{class:!0,"data-svelte-h":!0}),A(L)!=="svelte-axyob9"&&(L.textContent=ge),H.forEach(m),q.forEach(m),ne=v(X),j=n(X,"DIV",{class:!0});var Z=g(j);T=n(Z,"BUTTON",{type:!0,class:!0});var xe=g(T);ue=ee(xe,"Cancel"),xe.forEach(m),de=v(Z),D=n(Z,"BUTTON",{type:!0,class:!0});var Te=g(D);K=ee(Te,R),Te.forEach(m),Z.forEach(m),X.forEach(m),ce=v(w),P=n(w,"DIV",{class:!0,"data-svelte-h":!0}),A(P)!=="svelte-v6bj9l"&&(P.innerHTML=ye),w.forEach(m),Ce.forEach(m),p.forEach(m),this.h()},h(){s(k,"class","text-3xl font-bold text-blue-whale"),s(x,"class","bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"),s(l,"class","flex justify-between items-center mb-6"),s(y,"class","text-xl font-semibold text-blue-whale"),s(V,"for","amount"),s(V,"class","block text-sm font-medium text-gray-700"),s(c,"type","number"),s(c,"id","amount"),s(c,"min","1"),s(c,"max","100"),c.required=!0,c.disabled=o[2],s(c,"class","mt-1 w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),s(c,"placeholder","1"),s(B,"class","text-xs text-gray-500 mt-1"),s(N,"for","association"),s(N,"class","block text-sm font-medium text-gray-700"),s(h,"type","text"),s(h,"id","association"),h.disabled=o[2],s(h,"class","mt-1 w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),s(h,"placeholder","Student association or organization"),s(L,"class","text-xs text-gray-500 mt-1"),s(d,"class","space-y-4"),s(T,"type","button"),T.disabled=o[2],s(T,"class","bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600 disabled:opacity-50"),s(D,"type","submit"),D.disabled=Q=o[2]||o[0]<1,s(D,"class","bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 disabled:opacity-50"),s(j,"class","flex justify-end space-x-4 pt-6 border-t"),s(C,"class","space-y-6"),s(P,"class","mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4"),s(e,"class","bg-white rounded-lg shadow-md p-8"),s(a,"class","max-w-2xl my-8 mx-auto"),s(i,"class","min-h-screen bg-bottom-backdrop p-8")},m(r,p){pe(r,i,p),t(i,a),t(a,e),t(e,l),t(l,k),t(l,S),t(l,x),t(e,M),f&&f.m(e,null),t(e,U),b&&b.m(e,null),t(e,F),t(e,C),t(C,d),t(d,y),t(d,se),t(d,E),t(E,V),t(E,ae),t(E,c),$(c,o[0]),t(E,le),t(E,B),t(d,oe),t(d,I),t(I,N),t(I,ie),t(I,h),$(h,o[1]),t(I,re),t(I,L),t(C,ne),t(C,j),t(j,T),t(T,ue),t(j,de),t(j,D),t(D,K),t(e,ce),t(e,P),fe||(ke=[Y(x,"click",o[6]),Y(c,"input",o[7]),Y(h,"input",o[8]),Y(T,"click",o[9]),Y(C,"submit",je(o[5]))],fe=!0)},p(r,[p]){r[3]?f?f.p(r,p):(f=Ee(r),f.c(),f.m(e,U)):f&&(f.d(1),f=null),r[4]?b?b.p(r,p):(b=Ie(r),b.c(),b.m(e,F)):b&&(b.d(1),b=null),p&4&&(c.disabled=r[2]),p&1&&De(c.value)!==r[0]&&$(c,r[0]),p&4&&(h.disabled=r[2]),p&2&&h.value!==r[1]&&$(h,r[1]),p&4&&(T.disabled=r[2]),p&5&&R!==(R=r[2]?"Creating...":`Create ${r[0]} Ticket${r[0]!==1?"s":""}`)&&me(K,R),p&5&&Q!==(Q=r[2]||r[0]<1)&&(D.disabled=Q)},i:we,o:we,d(r){r&&m(i),f&&f.d(),b&&b.d(),fe=!1,Ne(ke)}}}function Ue(o,i,a){let e=1,l="",k=!1,O="",S="";Ae(async()=>{await Be.requireAdmin()});async function x(){a(2,k=!0),a(3,O=""),a(4,S="");const C={amount:e,association:l.trim()};try{const d=await fetch(Le("/ticket"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(C)});if(d.ok){const y=await d.json();a(4,S=`Successfully created ${e} ticket${e!==1?"s":""}!`),a(0,e=1),a(1,l=""),setTimeout(()=>{be("/tickets")},2e3)}else{const y=await d.json();a(3,O=Array.isArray(y)?y.map(J=>J.msg||J.message).join(", "):y.message||"Failed to create ticket")}}catch(d){a(3,O="Network error occurred"),console.error(d)}finally{a(2,k=!1)}}const G=()=>be("/tickets");function M(){e=De(this.value),a(0,e)}function U(){l=this.value,a(1,l)}return[e,l,k,O,S,x,G,M,U,()=>be("/tickets")]}class Je extends Oe{constructor(i){super(),Se(this,i,Ue,Pe,Ve,{})}}export{Je as component};
