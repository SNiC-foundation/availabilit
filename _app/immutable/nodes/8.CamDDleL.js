import{s as S,d as _,i as O,u as N,m as H,v as L,r as M,b as l,p as j,c as f,e as p,f as g,g as P,h as T,k as h,l as U}from"../chunks/DUYTDFI5.js";import{S as R,i as G,t as V,a as C,c as J,d as K,m as Q,b as W,e as X,g as Y}from"../chunks/z4FfSzan.js";import{g as q}from"../chunks/5GWT4jwF.js";import{a as Z,b as tt}from"../chunks/JklwfSA3.js";import{P as et}from"../chunks/D_tXG_hD.js";import{a as at}from"../chunks/BF9jo3u2.js";import{g as rt}from"../chunks/CSE0RT46.js";function F(c){let a,n,t,e,r,$="Edit Partner",s,i,d,A="Delete partner",E,u,z="Back to Partners",D,m,x,I,B;return m=new et({props:{mode:"edit",id:c[0]}}),{c(){a=h("div"),n=h("div"),t=h("div"),e=h("div"),r=h("h1"),r.textContent=$,s=U(),i=h("div"),d=h("button"),d.textContent=A,E=U(),u=h("button"),u.textContent=z,D=U(),X(m.$$.fragment),this.h()},l(o){a=p(o,"DIV",{class:!0});var v=g(a);n=p(v,"DIV",{class:!0});var b=g(n);t=p(b,"DIV",{class:!0});var y=g(t);e=p(y,"DIV",{class:!0});var w=g(e);r=p(w,"H1",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-9zztah"&&(r.textContent=$),s=T(w),i=p(w,"DIV",{class:!0});var k=g(i);d=p(k,"BUTTON",{class:!0,"data-svelte-h":!0}),P(d)!=="svelte-ne638d"&&(d.textContent=A),E=T(k),u=p(k,"BUTTON",{class:!0,"data-svelte-h":!0}),P(u)!=="svelte-1kvnz8i"&&(u.textContent=z),k.forEach(_),w.forEach(_),D=T(y),W(m.$$.fragment,y),y.forEach(_),b.forEach(_),v.forEach(_),this.h()},h(){f(r,"class","text-3xl font-bold text-blue-whale"),f(d,"class","bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"),f(u,"class","bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"),f(i,"class","flex gap-2"),f(e,"class","flex justify-between items-center mb-6"),f(t,"class","bg-white rounded-lg shadow-md p-8"),f(n,"class","max-w-4xl my-8 mx-auto"),f(a,"class","min-h-screen bg-bottom-backdrop p-8")},m(o,v){O(o,a,v),l(a,n),l(n,t),l(t,e),l(e,r),l(e,s),l(e,i),l(i,d),l(i,E),l(i,u),l(t,D),Q(m,t,null),x=!0,I||(B=[j(d,"click",c[2]),j(u,"click",c[3])],I=!0)},p(o,v){const b={};v&1&&(b.id=o[0]),m.$set(b)},i(o){x||(C(m.$$.fragment,o),x=!0)},o(o){V(m.$$.fragment,o),x=!1},d(o){o&&_(a),K(m),I=!1,M(B)}}}function nt(c){let a,n,t=c[1]&&F(c);return{c(){t&&t.c(),a=N()},l(e){t&&t.l(e),a=N()},m(e,r){t&&t.m(e,r),O(e,a,r),n=!0},p(e,[r]){e[1]?t?(t.p(e,r),r&2&&C(t,1)):(t=F(e),t.c(),C(t,1),t.m(a.parentNode,a)):t&&(Y(),V(t,1,1,()=>{t=null}),J())},i(e){n||(C(t),n=!0)},o(e){V(t),n=!1},d(e){e&&_(a),t&&t.d(e)}}}function st(c,a,n){let t;H(c,tt,s=>n(1,t=s));let e=0;L(async()=>{await Z.requireAdmin(),n(0,e=rt("id"))});async function r(){if(confirm("Are you sure you want to delete this partner?"))try{const s=await fetch(at(`/partner/${encodeURIComponent(e)}`),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok){const i=await s.text();throw new Error(i||s.statusText)}q("/partners")}catch(s){alert("Failed to delete partner: "+s)}}return[e,t,r,()=>q("/partners")]}class ft extends R{constructor(a){super(),G(this,a,st,nt,S,{})}}export{ft as component};
